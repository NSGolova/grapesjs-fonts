{"version":3,"file":"index.js","mappings":"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","sources":["webpack://@silexlabs/grapesjs-fonts/webpack/universalModuleDefinition","webpack://@silexlabs/grapesjs-fonts/webpack/bootstrap","webpack://@silexlabs/grapesjs-fonts/webpack/runtime/define property getters","webpack://@silexlabs/grapesjs-fonts/webpack/runtime/hasOwnProperty shorthand","webpack://@silexlabs/grapesjs-fonts/webpack/runtime/make namespace object","webpack://@silexlabs/grapesjs-fonts/../../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js","webpack://@silexlabs/grapesjs-fonts/../../node_modules/lit-html/lit-html.js","webpack://@silexlabs/grapesjs-fonts/../../node_modules/lit-html/directive.js","webpack://@silexlabs/grapesjs-fonts/../../node_modules/lit-html/directive-helpers.js","webpack://@silexlabs/grapesjs-fonts/../../node_modules/lit-html/directives/live.js","webpack://@silexlabs/grapesjs-fonts/../../node_modules/lit-html/directives/map.js","webpack://@silexlabs/grapesjs-fonts/../../node_modules/lit-html/directives/style-map.js","webpack://@silexlabs/grapesjs-fonts/../../node_modules/lit-html/async-directive.js","webpack://@silexlabs/grapesjs-fonts/../../node_modules/lit-html/directives/ref.js","webpack://@silexlabs/grapesjs-fonts/./src/fonts.js","webpack://@silexlabs/grapesjs-fonts/./src/commands.js","webpack://@silexlabs/grapesjs-fonts/./src/locale/en.js","webpack://@silexlabs/grapesjs-fonts/./src/locale/fr.js","webpack://@silexlabs/grapesjs-fonts/./src/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"@silexlabs/grapesjs-fonts\"] = factory();\n\telse\n\t\troot[\"@silexlabs/grapesjs-fonts\"] = factory();\n})(typeof globalThis !== 'undefined' ? globalThis : (typeof window !== 'undefined' ? window : this), () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export default function _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,i=t.trustedTypes,s=i?i.createPolicy(\"lit-html\",{createHTML:t=>t}):void 0,e=\"$lit$\",h=`lit$${Math.random().toFixed(9).slice(2)}$`,o=\"?\"+h,n=`<${o}>`,r=document,l=()=>r.createComment(\"\"),c=t=>null===t||\"object\"!=typeof t&&\"function\"!=typeof t,a=Array.isArray,u=t=>a(t)||\"function\"==typeof t?.[Symbol.iterator],d=\"[ \\t\\n\\f\\r]\",f=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,v=/-->/g,_=/>/g,m=RegExp(`>|${d}(?:([^\\\\s\"'>=/]+)(${d}*=${d}*(?:[^ \\t\\n\\f\\r\"'\\`<>=]|(\"|')|))|$)`,\"g\"),p=/'/g,g=/\"/g,$=/^(?:script|style|textarea|title)$/i,y=t=>(i,...s)=>({_$litType$:t,strings:i,values:s}),x=y(1),b=y(2),w=Symbol.for(\"lit-noChange\"),T=Symbol.for(\"lit-nothing\"),A=new WeakMap,E=r.createTreeWalker(r,129);function C(t,i){if(!Array.isArray(t)||!t.hasOwnProperty(\"raw\"))throw Error(\"invalid template strings array\");return void 0!==s?s.createHTML(i):i}const P=(t,i)=>{const s=t.length-1,o=[];let r,l=2===i?\"<svg>\":\"\",c=f;for(let i=0;i<s;i++){const s=t[i];let a,u,d=-1,y=0;for(;y<s.length&&(c.lastIndex=y,u=c.exec(s),null!==u);)y=c.lastIndex,c===f?\"!--\"===u[1]?c=v:void 0!==u[1]?c=_:void 0!==u[2]?($.test(u[2])&&(r=RegExp(\"</\"+u[2],\"g\")),c=m):void 0!==u[3]&&(c=m):c===m?\">\"===u[0]?(c=r??f,d=-1):void 0===u[1]?d=-2:(d=c.lastIndex-u[2].length,a=u[1],c=void 0===u[3]?m:'\"'===u[3]?g:p):c===g||c===p?c=m:c===v||c===_?c=f:(c=m,r=void 0);const x=c===m&&t[i+1].startsWith(\"/>\")?\" \":\"\";l+=c===f?s+n:d>=0?(o.push(a),s.slice(0,d)+e+s.slice(d)+h+x):s+h+(-2===d?i:x)}return[C(t,l+(t[s]||\"<?>\")+(2===i?\"</svg>\":\"\")),o]};class V{constructor({strings:t,_$litType$:s},n){let r;this.parts=[];let c=0,a=0;const u=t.length-1,d=this.parts,[f,v]=P(t,s);if(this.el=V.createElement(f,n),E.currentNode=this.el.content,2===s){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(r=E.nextNode())&&d.length<u;){if(1===r.nodeType){if(r.hasAttributes())for(const t of r.getAttributeNames())if(t.endsWith(e)){const i=v[a++],s=r.getAttribute(t).split(h),e=/([.?@])?(.*)/.exec(i);d.push({type:1,index:c,name:e[2],strings:s,ctor:\".\"===e[1]?k:\"?\"===e[1]?H:\"@\"===e[1]?I:R}),r.removeAttribute(t)}else t.startsWith(h)&&(d.push({type:6,index:c}),r.removeAttribute(t));if($.test(r.tagName)){const t=r.textContent.split(h),s=t.length-1;if(s>0){r.textContent=i?i.emptyScript:\"\";for(let i=0;i<s;i++)r.append(t[i],l()),E.nextNode(),d.push({type:2,index:++c});r.append(t[s],l())}}}else if(8===r.nodeType)if(r.data===o)d.push({type:2,index:c});else{let t=-1;for(;-1!==(t=r.data.indexOf(h,t+1));)d.push({type:7,index:c}),t+=h.length-1}c++}}static createElement(t,i){const s=r.createElement(\"template\");return s.innerHTML=t,s}}function N(t,i,s=t,e){if(i===w)return i;let h=void 0!==e?s._$Co?.[e]:s._$Cl;const o=c(i)?void 0:i._$litDirective$;return h?.constructor!==o&&(h?._$AO?.(!1),void 0===o?h=void 0:(h=new o(t),h._$AT(t,s,e)),void 0!==e?(s._$Co??=[])[e]=h:s._$Cl=h),void 0!==h&&(i=N(t,h._$AS(t,i.values),h,e)),i}class S{constructor(t,i){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:i},parts:s}=this._$AD,e=(t?.creationScope??r).importNode(i,!0);E.currentNode=e;let h=E.nextNode(),o=0,n=0,l=s[0];for(;void 0!==l;){if(o===l.index){let i;2===l.type?i=new M(h,h.nextSibling,this,t):1===l.type?i=new l.ctor(h,l.name,l.strings,this,t):6===l.type&&(i=new L(h,this,t)),this._$AV.push(i),l=s[++n]}o!==l?.index&&(h=E.nextNode(),o++)}return E.currentNode=r,e}p(t){let i=0;for(const s of this._$AV)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++}}class M{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,i,s,e){this.type=2,this._$AH=T,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cv=e?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===t?.nodeType&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=N(this,t,i),c(t)?t===T||null==t||\"\"===t?(this._$AH!==T&&this._$AR(),this._$AH=T):t!==this._$AH&&t!==w&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):u(t)?this.k(t):this._(t)}S(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.S(t))}_(t){this._$AH!==T&&c(this._$AH)?this._$AA.nextSibling.data=t:this.T(r.createTextNode(t)),this._$AH=t}$(t){const{values:i,_$litType$:s}=t,e=\"number\"==typeof s?this._$AC(t):(void 0===s.el&&(s.el=V.createElement(C(s.h,s.h[0]),this.options)),s);if(this._$AH?._$AD===e)this._$AH.p(i);else{const t=new S(e,this),s=t.u(this.options);t.p(i),this.T(s),this._$AH=t}}_$AC(t){let i=A.get(t.strings);return void 0===i&&A.set(t.strings,i=new V(t)),i}k(t){a(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const h of t)e===i.length?i.push(s=new M(this.S(l()),this.S(l()),this,this.options)):s=i[e],s._$AI(h),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}_$AR(t=this._$AA.nextSibling,i){for(this._$AP?.(!1,!0,i);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class R{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,i,s,e,h){this.type=1,this._$AH=T,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=h,s.length>2||\"\"!==s[0]||\"\"!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=T}_$AI(t,i=this,s,e){const h=this.strings;let o=!1;if(void 0===h)t=N(this,t,i,0),o=!c(t)||t!==this._$AH&&t!==w,o&&(this._$AH=t);else{const e=t;let n,r;for(t=h[0],n=0;n<h.length-1;n++)r=N(this,e[s+n],i,n),r===w&&(r=this._$AH[n]),o||=!c(r)||r!==this._$AH[n],r===T?t=T:t!==T&&(t+=(r??\"\")+h[n+1]),this._$AH[n]=r}o&&!e&&this.j(t)}j(t){t===T?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??\"\")}}class k extends R{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===T?void 0:t}}class H extends R{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==T)}}class I extends R{constructor(t,i,s,e,h){super(t,i,s,e,h),this.type=5}_$AI(t,i=this){if((t=N(this,t,i,0)??T)===w)return;const s=this._$AH,e=t===T&&s!==T||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,h=t!==T&&(s===T||e);e&&this.element.removeEventListener(this.name,this,s),h&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){\"function\"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class L{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){N(this,t)}}const z={P:e,A:h,C:o,M:1,L:P,R:S,D:u,V:N,I:M,H:R,N:H,U:I,B:k,F:L},Z=t.litHtmlPolyfillSupport;Z?.(V,M),(t.litHtmlVersions??=[]).push(\"3.1.3\");const j=(t,i,s)=>{const e=s?.renderBefore??i;let h=e._$litPart$;if(void 0===h){const t=s?.renderBefore??null;e._$litPart$=h=new M(i.insertBefore(l(),t),t,void 0,s??{})}return h._$AI(t),h};export{z as _$LH,x as html,w as noChange,T as nothing,j as render,b as svg};\n//# sourceMappingURL=lit-html.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},e=t=>(...e)=>({_$litDirective$:t,values:e});class i{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this._$Ct=t,this._$AM=e,this._$Ci=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}export{i as Directive,t as PartType,e as directive};\n//# sourceMappingURL=directive.js.map\n","import{_$LH as o}from\"./lit-html.js\";\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const{I:t}=o,i=o=>null===o||\"object\"!=typeof o&&\"function\"!=typeof o,n={HTML:1,SVG:2},e=(o,t)=>void 0===t?void 0!==o?._$litType$:o?._$litType$===t,l=o=>null!=o?._$litType$?.h,c=o=>void 0!==o?._$litDirective$,d=o=>o?._$litDirective$,f=o=>void 0===o.strings,s=()=>document.createComment(\"\"),r=(o,i,n)=>{const e=o._$AA.parentNode,l=void 0===i?o._$AB:i._$AA;if(void 0===n){const i=e.insertBefore(s(),l),c=e.insertBefore(s(),l);n=new t(i,c,o,o.options)}else{const t=n._$AB.nextSibling,i=n._$AM,c=i!==o;if(c){let t;n._$AQ?.(o),n._$AM=o,void 0!==n._$AP&&(t=o._$AU)!==i._$AU&&n._$AP(t)}if(t!==l||c){let o=n._$AA;for(;o!==t;){const t=o.nextSibling;e.insertBefore(o,l),o=t}}}return n},v=(o,t,i=o)=>(o._$AI(t,i),o),u={},m=(o,t=u)=>o._$AH=t,p=o=>o._$AH,h=o=>{o._$AP?.(!1,!0);let t=o._$AA;const i=o._$AB.nextSibling;for(;t!==i;){const o=t.nextSibling;t.remove(),t=o}},j=o=>{o._$AR()};export{n as TemplateResultType,j as clearPart,p as getCommittedValue,d as getDirectiveClass,r as insertPart,l as isCompiledTemplateResult,c as isDirectiveResult,i as isPrimitive,f as isSingleExpression,e as isTemplateResult,h as removePart,v as setChildPartValue,m as setCommittedValue};\n//# sourceMappingURL=directive-helpers.js.map\n","import{noChange as r,nothing as e}from\"../lit-html.js\";import{directive as i,Directive as t,PartType as n}from\"../directive.js\";import{isSingleExpression as o,setCommittedValue as s}from\"../directive-helpers.js\";\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const l=i(class extends t{constructor(r){if(super(r),r.type!==n.PROPERTY&&r.type!==n.ATTRIBUTE&&r.type!==n.BOOLEAN_ATTRIBUTE)throw Error(\"The `live` directive is not allowed on child or event bindings\");if(!o(r))throw Error(\"`live` bindings can only contain a single expression\")}render(r){return r}update(i,[t]){if(t===r||t===e)return t;const o=i.element,l=i.name;if(i.type===n.PROPERTY){if(t===o[l])return r}else if(i.type===n.BOOLEAN_ATTRIBUTE){if(!!t===o.hasAttribute(l))return r}else if(i.type===n.ATTRIBUTE&&o.getAttribute(l)===t+\"\")return r;return s(i),t}});export{l as live};\n//# sourceMappingURL=live.js.map\n","/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nfunction*o(o,f){if(void 0!==o){let i=0;for(const t of o)yield f(t,i++)}}export{o as map};\n//# sourceMappingURL=map.js.map\n","import{noChange as t}from\"../lit-html.js\";import{directive as e,Directive as r,PartType as s}from\"../directive.js\";\n/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const n=\"important\",i=\" !\"+n,o=e(class extends r{constructor(t){if(super(t),t.type!==s.ATTRIBUTE||\"style\"!==t.name||t.strings?.length>2)throw Error(\"The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.\")}render(t){return Object.keys(t).reduce(((e,r)=>{const s=t[r];return null==s?e:e+`${r=r.includes(\"-\")?r:r.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,\"-$&\").toLowerCase()}:${s};`}),\"\")}update(e,[r]){const{style:s}=e.element;if(void 0===this.ft)return this.ft=new Set(Object.keys(r)),this.render(r);for(const t of this.ft)null==r[t]&&(this.ft.delete(t),t.includes(\"-\")?s.removeProperty(t):s[t]=null);for(const t in r){const e=r[t];if(null!=e){this.ft.add(t);const r=\"string\"==typeof e&&e.endsWith(i);t.includes(\"-\")||r?s.setProperty(t,r?e.slice(0,-11):e,r?n:\"\"):s[t]=e}}return t}});export{o as styleMap};\n//# sourceMappingURL=style-map.js.map\n","import{isSingleExpression as i}from\"./directive-helpers.js\";import{Directive as t,PartType as e}from\"./directive.js\";export{directive}from\"./directive.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const s=(i,t)=>{const e=i._$AN;if(void 0===e)return!1;for(const i of e)i._$AO?.(t,!1),s(i,t);return!0},o=i=>{let t,e;do{if(void 0===(t=i._$AM))break;e=t._$AN,e.delete(i),i=t}while(0===e?.size)},r=i=>{for(let t;t=i._$AM;i=t){let e=t._$AN;if(void 0===e)t._$AN=e=new Set;else if(e.has(i))break;e.add(i),c(t)}};function h(i){void 0!==this._$AN?(o(this),this._$AM=i,r(this)):this._$AM=i}function n(i,t=!1,e=0){const r=this._$AH,h=this._$AN;if(void 0!==h&&0!==h.size)if(t)if(Array.isArray(r))for(let i=e;i<r.length;i++)s(r[i],!1),o(r[i]);else null!=r&&(s(r,!1),o(r));else s(this,i)}const c=i=>{i.type==e.CHILD&&(i._$AP??=n,i._$AQ??=h)};class f extends t{constructor(){super(...arguments),this._$AN=void 0}_$AT(i,t,e){super._$AT(i,t,e),r(this),this.isConnected=i._$AU}_$AO(i,t=!0){i!==this.isConnected&&(this.isConnected=i,i?this.reconnected?.():this.disconnected?.()),t&&(s(this,i),o(this))}setValue(t){if(i(this._$Ct))this._$Ct._$AI(t,this);else{const i=[...this._$Ct._$AH];i[this._$Ci]=t,this._$Ct._$AI(i,this,0)}}disconnected(){}reconnected(){}}export{f as AsyncDirective,t as Directive,e as PartType};\n//# sourceMappingURL=async-directive.js.map\n","import{nothing as t}from\"../lit-html.js\";import{AsyncDirective as i}from\"../async-directive.js\";import{directive as s}from\"../directive.js\";\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const e=()=>new h;class h{}const o=new WeakMap,n=s(class extends i{render(i){return t}update(i,[s]){const e=s!==this.Y;return e&&void 0!==this.Y&&this.rt(void 0),(e||this.lt!==this.ct)&&(this.Y=s,this.ht=i.options?.host,this.rt(this.ct=i.element)),t}rt(t){if(\"function\"==typeof this.Y){const i=this.ht??globalThis;let s=o.get(i);void 0===s&&(s=new WeakMap,o.set(i,s)),void 0!==s.get(this.Y)&&this.Y.call(this.ht,void 0),s.set(this.Y,t),void 0!==t&&this.Y.call(this.ht,t)}else this.Y.value=t}get lt(){return\"function\"==typeof this.Y?o.get(this.ht??globalThis)?.get(this.Y):this.Y?.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});export{e as createRef,n as ref};\n//# sourceMappingURL=ref.js.map\n","import {html, render} from 'lit-html'\nimport {live} from 'lit-html/directives/live.js'\nimport { map } from 'lit-html/directives/map.js'\nimport {styleMap} from 'lit-html/directives/style-map.js'\nimport {ref, createRef} from 'lit-html/directives/ref.js'\n\nconst el = document.createElement('div')\nlet modal\n\nexport const cmdOpenFonts = 'open-fonts'\n\n/**\n * Constants\n */\nconst LS_FONTS = 'silex-loaded-fonts-list'\n\n/**\n * Module variables\n */\nlet _fontsList\nlet fonts\nlet defaults = []\n\n/**\n * Options\n */\nlet fontServer = 'https://fonts.googleapis.com'\n\n/**\n * Load available fonts only once per session\n * Use local storage\n */\ntry {\n    _fontsList = JSON.parse(localStorage.getItem(LS_FONTS))\n} catch(e) {\n    console.error('Could not get fonts from local storage:', e)\n}\n\n/**\n * Promised wait function\n */\nasync function wait(ms = 0) {\n    return new Promise(resolve => setTimeout(() => resolve(), ms))\n}\n\n/**\n * When the dialog is opened\n */\nasync function loadFonts(editor) {\n    fonts = structuredClone(editor.getModel().get('fonts') || [])\n}\n\n/**\n * When the dialog is closed\n */\nfunction saveFonts(editor, opts) {\n    const model = editor.getModel()\n\n    // Store the modified fonts\n    model.set('fonts', fonts)\n\n    // Update the HTML head with style sheets to load\n    updateHead(editor, fonts)\n\n    // Update the \"font family\" dropdown\n    updateUi(editor, fonts, opts)\n\n    // Save website if auto save is on\n    model.set('changesCount', editor.getDirtyCount() + 1)\n}\n\n/**\n * Load the available fonts from google\n */\nasync function loadFontList(url) {\n    _fontsList = _fontsList ?? (await (await fetch(url)).json())?.items\n    localStorage.setItem(LS_FONTS, JSON.stringify(_fontsList))\n    await wait() // let the dialog open\n    return _fontsList\n}\n\nexport const fontsDialogPlugin = (editor, opts) => {\n    defaults = editor.StyleManager.getBuiltIn('font-family').options\n    if(opts.server_url) fontServer = opts.server_url\n    if(!opts.api_key) throw new Error(editor.I18n.t('grapesjs-fonts.You must provide Google font api key'))\n    editor.Commands.add(cmdOpenFonts, {\n        /* eslint-disable-next-line */\n        run: (_, sender) => {\n            modal = editor.Modal.open({\n                title: editor.I18n.t('grapesjs-fonts.Fonts'),\n                content: '',\n                attributes: { class: 'fonts-dialog' },\n            })\n                .onceClose(() => {\n                    editor.stopCommand(cmdOpenFonts) // apparently this is needed to be able to run the command several times\n                })\n            modal.setContent(el)\n            loadFonts(editor)\n            displayFonts(editor, opts, [])\n            loadFontList(`${ fontServer }/webfonts/v1/webfonts?key=${ opts.api_key }`)\n                .then(fontsList => { // the run command will terminate before this is done, better for performance\n                    displayFonts(editor, opts, fontsList)\n                    const form = el.querySelector('form')\n                    form.onsubmit = event => {\n                        event.preventDefault()\n                        saveFonts(editor, opts)\n                        editor.stopCommand(cmdOpenFonts)\n                    }\n                    form.querySelector('input')?.focus()\n                })\n            return modal\n        },\n        stop: () => {\n            modal.close()\n        },\n    })\n    // add fonts to the website on save\n    editor.on('storage:start:store', (data) => {\n        data.fonts = editor.getModel().get('fonts')\n    })\n    // add fonts to the website on load\n    editor.on('storage:end:load', (data) => {\n        const fonts = data.fonts || []\n        editor.getModel().set('fonts', fonts)\n        // FIXME: remove this timeout which is a workaround for issues in Silex storage providers\n        setTimeout(() => refresh(editor, opts), 1000)\n    })\n    // update the head and the ui when the frame is loaded\n    editor.on('canvas:frame:load', () => refresh(editor, opts))\n    // When the page changes, update the dom\n    editor.on('page', () => refresh(editor, opts))\n}\n\nfunction match(hay, s) {\n    const regExp = new RegExp(s, 'i')\n    return hay.search(regExp) !== -1\n}\n\nconst searchInputRef = createRef()\nconst fontRef = createRef()\n\nfunction displayFonts(editor, config, fontsList) {\n    const searchInput = searchInputRef.value\n    const activeFonts = fontsList.filter(f => match(f.family, searchInput?.value || ''))\n    searchInput?.focus()\n    function findFont(font) {\n        return fontsList.find(f => font.name === f.family)\n    }\n    render(html`\n    <form class=\"silex-form grapesjs-fonts\">\n      <div class=\"silex-form__group\">\n        <div class=\"silex-bar\">\n          <input\n            style=${styleMap({\n        width: '100%',\n    })}\n            placeholder=\"${editor.I18n.t('grapesjs-fonts.Search')}\"\n            type=\"text\"\n            ${ref(searchInputRef)}\n            @keydown=${() => {\n        //(fontRef.value as HTMLSelectElement).selectedIndex = 0\n        setTimeout(() => displayFonts(editor, config, fontsList))\n    }}/>\n          <select\n            style=${styleMap({\n        width: '150px',\n    })}\n            ${ref(fontRef)}\n          >\n            ${ map(activeFonts, f => html`\n              <option value=${f['family']}>${f['family']}</option>\n            `)}\n          </select>\n          <button class=\"silex-button\"\n            ?disabled=${!fontRef.value || activeFonts.length === 0}\n            type=\"button\" @click=${() => {\n        addFont(\n            editor,\n            config,\n            fonts,\n            activeFonts[fontRef.value.selectedIndex]\n        )\n        displayFonts(editor, config, fontsList)\n    }}>\n            ${editor.I18n.t('grapesjs-fonts.Add font')}\n          </button>\n        </div>\n      </div>\n      <hr/>\n      <div\n        class=\"silex-form__element\">\n        <h2>${editor.I18n.t('grapesjs-fonts.Installed fonts')}</h2>\n        <ol class=\"silex-list\">\n        ${ map(fonts, f => html`\n          <li>\n            <div class=\"silex-list__item__header\">\n              <h4>${f.name}</h4>\n            </div>\n            <div class=\"silex-list__item__body\">\n              <fieldset class=\"silex-group--simple full-width\">\n                <legend>CSS rules</legend>\n                <input\n                  class=\"full-width\"\n                  type=\"text\"\n                  name=\"name\"\n                  .value=${live(f.value)}\n                  @change=${e => {\n        updateRules(editor, fonts, f, e.target.value)\n        displayFonts(editor, config, fontsList)\n    }}\n                />\n              </fieldset>\n              <fieldset class=\"silex-group--simple full-width\">\n                <legend>Variants</legend>\n                ${ map(\n        // keep only variants which are letters, no numbers\n        // FIXME: we need the weights\n        findFont(f)?.variants.filter(v => v.replace(/[a-z]/g, '') === ''),\n        v => html`\n                  <div>\n                    <input\n                      id=${ f.name + v }\n                      type=\"checkbox\"\n                      value=${v}\n                      ?checked=${f.variants?.includes(v)}\n                      @change=${e => {\n        updateVariant(editor, fonts, f, v, e.target.checked)\n        displayFonts(editor, config, fontsList)\n    }}\n                    /><label for=${ f.name + v }>${v}</label>\n                  </div>\n                `)}\n              </fieldset>\n            </div>\n            <div class=\"silex-list__item__footer\">\n              <button class=\"silex-button\" type=\"button\" @click=${() => {\n        removeFont(editor, fonts, f)\n        displayFonts(editor, config, fontsList)\n    }}>${editor.I18n.t('grapesjs-fonts.Remove')}</button>\n            </div>\n          </li>\n        `) }\n        </ol>\n      </div>\n      <footer>\n        <input class=\"silex-button\" type=\"button\" @click=${() => editor.stopCommand(cmdOpenFonts)} value=\"${editor.I18n.t('grapesjs-fonts.Cancel')}\">\n        <input class=\"silex-button\" type=\"submit\" value=\"${editor.I18n.t('grapesjs-fonts.Save')}\">\n      </footer>\n    </form>\n  `, el)\n}\n\nfunction addFont(editor, config, fonts, font) {\n    const name = font.family\n    const value = `\"${font.family}\", ${font.category}`\n    fonts.push({ name, value, variants: [] })\n}\n\nfunction removeFont(editor, fonts, font) {\n    const idx = fonts.findIndex(f => f === font)\n    fonts.splice(idx, 1)\n}\n\nfunction removeAll(doc, attr) {\n    const all = doc.head.querySelectorAll(`[${ attr }]`)\n    Array.from(all)\n        .forEach((el) => el.remove())\n}\n\nconst GOOGLE_FONTS_ATTR = 'data-silex-gstatic'\nfunction updateHead(editor, fonts) {\n    const doc = editor.Canvas.getDocument()\n    if(!doc) {\n        // This happens while grapesjs is not ready\n        return\n    }\n    removeAll(doc, GOOGLE_FONTS_ATTR)\n    const html = getHtml(fonts, GOOGLE_FONTS_ATTR)\n    doc.head.insertAdjacentHTML('beforeend', html)\n}\n\nfunction updateUi(editor, fonts, opts) {\n    const styleManager = editor.StyleManager\n    const fontProperty = styleManager.getProperty('typography', 'font-family')\n    if(!fontProperty) {\n        // This happens while grapesjs is not ready\n        return\n    }\n    if (opts.preserveDefaultFonts) {\n        fonts = defaults.concat(fonts)\n    } else if (fonts.length === 0) {\n        fonts = defaults\n    }\n    fontProperty.setOptions(fonts)\n}\n\nexport function refresh(editor, opts) {\n    const fonts = editor.getModel().get('fonts') || []\n    updateHead(editor, fonts)\n    updateUi(editor, fonts, opts)\n}\n\nfunction updateRules(editor, fonts, font, value) {\n    font.value = value\n}\n\nfunction updateVariant(editor, fonts, font, variant, checked) {\n    const has = font.variants?.includes(variant)\n    if(has && !checked) font.variants = font.variants.filter(v => v !== variant)\n    else if(!has && checked) font.variants.push(variant)\n}\n\nexport function getHtml(fonts, attr = '') {\n    // FIXME: how to use google fonts v2?\n    // google fonts V2: https://developers.google.com/fonts/docs/css2\n    //fonts.forEach(f => {\n    //  const prefix = f.variants.length ? ':' : ''\n    //  const variants = prefix + f.variants.map(v => {\n    //    const weight = parseInt(v)\n    //    const axis = v.replace(/\\d+/g, '')\n    //    return `${axis},wght@${weight}`\n    //  }).join(',')\n    //  insert(doc, GOOGLE_FONTS_ATTR, 'link', { 'href': `${ fontServer }/css2?family=${f.name.replace(/ /g, '+')}${variants}&display=swap`, 'rel': 'stylesheet' })\n    //})\n\n    // Google fonts v1\n    // https://developers.google.com/fonts/docs/getting_started#a_quick_example\n    const preconnect = `<link href=\"${ fontServer }\" rel=\"preconnect\" ${attr}><link href=\"https://fonts.gstatic.com\" rel=\"preconnect\" crossorigin ${attr}>`\n    const links = fonts\n        .map(f => {\n            const prefix = f.variants.length ? ':' : ''\n            const variants = prefix + f.variants.map(v => v.replace(/\\d+/g, '')).filter(v => !!v).join(',')\n            return `<link href=\"${ fontServer }/css?family=${f.name.replace(/ /g, '+')}${variants}&display=swap\" rel=\"stylesheet\" ${attr}>`\n        })\n        .join('')\n\n    return preconnect + links\n}","import { getHtml } from './fonts'\n\nexport const cmdGetCss = 'get-fonts-css'\nexport const cmdGetHtml = 'get-fonts-html'\n\nexport default function (editor) {\n    editor.Commands.add(cmdGetCss, () => {\n        throw new Error('Not implemented')\n    })\n    editor.Commands.add(cmdGetHtml, (editor) => {\n        const fonts = editor.getModel().get('fonts') || []\n        return getHtml(fonts)\n    })\n}\n","export default {\n    'grapesjs-fonts': {\n        'Fonts': 'Fonts',\n        'You must provide Google font api key': 'You must provide Google font api key, see https://developers.google.com/fonts/docs/developer_api#APIKey',\n        'Search': 'Search fonts...',\n        'Add font': 'Install font',\n        'Remove': 'Remove',\n        'Save': 'Save',\n        'Cancel': 'Cancel',\n        'Installed fonts': 'Installed fonts',\n    },\n}\n\n","export default {\n    'grapesjs-fonts': {\n        'Fonts': 'Polices',\n        'You must provide Google font api key': 'Vous devez fournir une clé API Google font, voir https://developers.google.com/fonts/docs/developer_api#APIKey',\n        'Family': 'Famille',\n        'Search': 'Rechercher une police',\n        'Add font': 'Installer la police',\n        'Remove': 'Supprimer',\n        'Save': 'Enregistrer',\n        'Cancel': 'Annuler',\n        'Installed fonts': 'Polices installées',\n    },\n}\n\n\n","import { fontsDialogPlugin } from './fonts.js'\nimport commands from './commands.js'\nimport en from './locale/en.js'\nimport fr from './locale/fr.js'\n\nexport default (editor, opts = {}) => {\n\n    const options = { ...{\n        // default options\n        i18n: {},\n        preserveDefaultFonts: true,\n    },  ...opts }\n\n  \n    // Load i18n files\n    editor.I18n && editor.I18n.addMessages({\n        en,\n        fr,\n        ...options.i18n,\n    })\n\n    commands(editor, options)\n    fontsDialogPlugin(editor, options)\n}\n\n// Expose commands to the app\nexport * from './fonts.js'\nexport * from './commands.js'\n"],"names":["root","factory","exports","module","define","amd","globalThis","window","this","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","_taggedTemplateLiteral","strings","raw","slice","freeze","defineProperties","t","i","trustedTypes","s","createPolicy","createHTML","e","h","Math","random","toFixed","n","r","document","l","createComment","c","a","Array","isArray","u","iterator","d","f","v","_","m","RegExp","p","g","$","y","_$litType$","values","x","w","for","T","A","WeakMap","E","createTreeWalker","C","Error","P","length","lastIndex","exec","test","startsWith","push","V","constructor","parts","el","createElement","currentNode","content","firstChild","replaceWith","childNodes","nextNode","nodeType","hasAttributes","getAttributeNames","endsWith","getAttribute","split","type","index","name","ctor","k","H","I","R","removeAttribute","tagName","textContent","emptyScript","append","data","indexOf","innerHTML","N","_$Co","_$Cl","_$litDirective$","_$AO","_$AT","_$AS","S","_$AV","_$AN","_$AD","_$AM","parentNode","_$AU","creationScope","importNode","M","nextSibling","L","_$AI","_$Cv","_$AH","_$AA","_$AB","options","isConnected","startNode","endNode","_$AR","insertBefore","createTextNode","_$AC","set","_$AP","remove","setConnected","element","fill","String","j","setAttribute","super","arguments","toggleAttribute","capture","once","passive","removeEventListener","addEventListener","handleEvent","host","z","D","U","B","F","Z","litHtmlPolyfillSupport","litHtmlVersions","_$Ct","_$Ci","update","render","hasAttribute","keys","reduce","includes","replace","toLowerCase","style","ft","Set","delete","removeProperty","add","setProperty","size","has","_$AQ","reconnected","disconnected","setValue","Y","rt","lt","ct","ht","modal","cmdOpenFonts","LS_FONTS","_fontsList","fonts","defaults","fontServer","JSON","parse","localStorage","getItem","console","error","async","loadFontList","url","_fontsList2","_await$await$fetch$js","fetch","json","items","setItem","stringify","ms","undefined","Promise","resolve","setTimeout","wait","fontsDialogPlugin","editor","opts","StyleManager","getBuiltIn","server_url","api_key","I18n","Commands","run","sender","Modal","open","title","attributes","class","onceClose","stopCommand","setContent","structuredClone","getModel","loadFonts","displayFonts","concat","then","fontsList","_form$querySelector","form","querySelector","onsubmit","event","preventDefault","model","updateHead","updateUi","getDirtyCount","saveFonts","focus","stop","close","on","refresh","searchInputRef","createRef","fontRef","config","searchInput","activeFonts","filter","hay","regExp","search","match","family","renderBefore","_$litPart$","html","_templateObject","styleMap","width","ref","map","_templateObject2","font","category","variants","addFont","selectedIndex","_findFont","_templateObject3","live","target","find","_f$variants","_templateObject4","variant","checked","_font$variants","updateVariant","idx","findIndex","splice","removeFont","GOOGLE_FONTS_ATTR","doc","Canvas","getDocument","attr","all","head","querySelectorAll","from","forEach","removeAll","getHtml","insertAdjacentHTML","fontProperty","getProperty","preserveDefaultFonts","setOptions","preconnect","links","join","cmdGetCss","cmdGetHtml","i18n","addMessages","en","fr","commands"],"sourceRoot":""}