{"version":3,"file":"index.js","mappings":"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","sources":["webpack://@silexlabs/grapesjs-fonts/webpack/universalModuleDefinition","webpack://@silexlabs/grapesjs-fonts/webpack/bootstrap","webpack://@silexlabs/grapesjs-fonts/webpack/runtime/define property getters","webpack://@silexlabs/grapesjs-fonts/webpack/runtime/hasOwnProperty shorthand","webpack://@silexlabs/grapesjs-fonts/webpack/runtime/make namespace object","webpack://@silexlabs/grapesjs-fonts/./node_modules/lit-html/lit-html.js","webpack://@silexlabs/grapesjs-fonts/./node_modules/lit-html/directive.js","webpack://@silexlabs/grapesjs-fonts/./node_modules/lit-html/directive-helpers.js","webpack://@silexlabs/grapesjs-fonts/./node_modules/lit-html/directives/live.js","webpack://@silexlabs/grapesjs-fonts/./node_modules/lit-html/directives/map.js","webpack://@silexlabs/grapesjs-fonts/./node_modules/lit-html/directives/style-map.js","webpack://@silexlabs/grapesjs-fonts/./node_modules/lit-html/async-directive.js","webpack://@silexlabs/grapesjs-fonts/./node_modules/lit-html/directives/ref.js","webpack://@silexlabs/grapesjs-fonts/./src/fonts.js","webpack://@silexlabs/grapesjs-fonts/./src/commands.js","webpack://@silexlabs/grapesjs-fonts/./src/locale/en.js","webpack://@silexlabs/grapesjs-fonts/./src/locale/fr.js","webpack://@silexlabs/grapesjs-fonts/./src/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"@silexlabs/grapesjs-fonts\"] = factory();\n\telse\n\t\troot[\"@silexlabs/grapesjs-fonts\"] = factory();\n})(typeof globalThis !== 'undefined' ? globalThis : (typeof window !== 'undefined' ? window : this), () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,i=t.trustedTypes,s=i?i.createPolicy(\"lit-html\",{createHTML:t=>t}):void 0,e=\"$lit$\",h=`lit$${Math.random().toFixed(9).slice(2)}$`,o=\"?\"+h,n=`<${o}>`,r=document,l=()=>r.createComment(\"\"),c=t=>null===t||\"object\"!=typeof t&&\"function\"!=typeof t,a=Array.isArray,u=t=>a(t)||\"function\"==typeof t?.[Symbol.iterator],d=\"[ \\t\\n\\f\\r]\",f=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,v=/-->/g,_=/>/g,m=RegExp(`>|${d}(?:([^\\\\s\"'>=/]+)(${d}*=${d}*(?:[^ \\t\\n\\f\\r\"'\\`<>=]|(\"|')|))|$)`,\"g\"),p=/'/g,g=/\"/g,$=/^(?:script|style|textarea|title)$/i,y=t=>(i,...s)=>({_$litType$:t,strings:i,values:s}),x=y(1),b=y(2),w=Symbol.for(\"lit-noChange\"),T=Symbol.for(\"lit-nothing\"),A=new WeakMap,E=r.createTreeWalker(r,129);function C(t,i){if(!Array.isArray(t)||!t.hasOwnProperty(\"raw\"))throw Error(\"invalid template strings array\");return void 0!==s?s.createHTML(i):i}const P=(t,i)=>{const s=t.length-1,o=[];let r,l=2===i?\"<svg>\":\"\",c=f;for(let i=0;i<s;i++){const s=t[i];let a,u,d=-1,y=0;for(;y<s.length&&(c.lastIndex=y,u=c.exec(s),null!==u);)y=c.lastIndex,c===f?\"!--\"===u[1]?c=v:void 0!==u[1]?c=_:void 0!==u[2]?($.test(u[2])&&(r=RegExp(\"</\"+u[2],\"g\")),c=m):void 0!==u[3]&&(c=m):c===m?\">\"===u[0]?(c=r??f,d=-1):void 0===u[1]?d=-2:(d=c.lastIndex-u[2].length,a=u[1],c=void 0===u[3]?m:'\"'===u[3]?g:p):c===g||c===p?c=m:c===v||c===_?c=f:(c=m,r=void 0);const x=c===m&&t[i+1].startsWith(\"/>\")?\" \":\"\";l+=c===f?s+n:d>=0?(o.push(a),s.slice(0,d)+e+s.slice(d)+h+x):s+h+(-2===d?i:x)}return[C(t,l+(t[s]||\"<?>\")+(2===i?\"</svg>\":\"\")),o]};class V{constructor({strings:t,_$litType$:s},n){let r;this.parts=[];let c=0,a=0;const u=t.length-1,d=this.parts,[f,v]=P(t,s);if(this.el=V.createElement(f,n),E.currentNode=this.el.content,2===s){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(r=E.nextNode())&&d.length<u;){if(1===r.nodeType){if(r.hasAttributes())for(const t of r.getAttributeNames())if(t.endsWith(e)){const i=v[a++],s=r.getAttribute(t).split(h),e=/([.?@])?(.*)/.exec(i);d.push({type:1,index:c,name:e[2],strings:s,ctor:\".\"===e[1]?k:\"?\"===e[1]?H:\"@\"===e[1]?I:R}),r.removeAttribute(t)}else t.startsWith(h)&&(d.push({type:6,index:c}),r.removeAttribute(t));if($.test(r.tagName)){const t=r.textContent.split(h),s=t.length-1;if(s>0){r.textContent=i?i.emptyScript:\"\";for(let i=0;i<s;i++)r.append(t[i],l()),E.nextNode(),d.push({type:2,index:++c});r.append(t[s],l())}}}else if(8===r.nodeType)if(r.data===o)d.push({type:2,index:c});else{let t=-1;for(;-1!==(t=r.data.indexOf(h,t+1));)d.push({type:7,index:c}),t+=h.length-1}c++}}static createElement(t,i){const s=r.createElement(\"template\");return s.innerHTML=t,s}}function N(t,i,s=t,e){if(i===w)return i;let h=void 0!==e?s._$Co?.[e]:s._$Cl;const o=c(i)?void 0:i._$litDirective$;return h?.constructor!==o&&(h?._$AO?.(!1),void 0===o?h=void 0:(h=new o(t),h._$AT(t,s,e)),void 0!==e?(s._$Co??=[])[e]=h:s._$Cl=h),void 0!==h&&(i=N(t,h._$AS(t,i.values),h,e)),i}class S{constructor(t,i){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:i},parts:s}=this._$AD,e=(t?.creationScope??r).importNode(i,!0);E.currentNode=e;let h=E.nextNode(),o=0,n=0,l=s[0];for(;void 0!==l;){if(o===l.index){let i;2===l.type?i=new M(h,h.nextSibling,this,t):1===l.type?i=new l.ctor(h,l.name,l.strings,this,t):6===l.type&&(i=new L(h,this,t)),this._$AV.push(i),l=s[++n]}o!==l?.index&&(h=E.nextNode(),o++)}return E.currentNode=r,e}p(t){let i=0;for(const s of this._$AV)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++}}class M{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,i,s,e){this.type=2,this._$AH=T,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cv=e?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===t?.nodeType&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=N(this,t,i),c(t)?t===T||null==t||\"\"===t?(this._$AH!==T&&this._$AR(),this._$AH=T):t!==this._$AH&&t!==w&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):u(t)?this.k(t):this._(t)}S(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.S(t))}_(t){this._$AH!==T&&c(this._$AH)?this._$AA.nextSibling.data=t:this.T(r.createTextNode(t)),this._$AH=t}$(t){const{values:i,_$litType$:s}=t,e=\"number\"==typeof s?this._$AC(t):(void 0===s.el&&(s.el=V.createElement(C(s.h,s.h[0]),this.options)),s);if(this._$AH?._$AD===e)this._$AH.p(i);else{const t=new S(e,this),s=t.u(this.options);t.p(i),this.T(s),this._$AH=t}}_$AC(t){let i=A.get(t.strings);return void 0===i&&A.set(t.strings,i=new V(t)),i}k(t){a(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const h of t)e===i.length?i.push(s=new M(this.S(l()),this.S(l()),this,this.options)):s=i[e],s._$AI(h),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}_$AR(t=this._$AA.nextSibling,i){for(this._$AP?.(!1,!0,i);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class R{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,i,s,e,h){this.type=1,this._$AH=T,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=h,s.length>2||\"\"!==s[0]||\"\"!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=T}_$AI(t,i=this,s,e){const h=this.strings;let o=!1;if(void 0===h)t=N(this,t,i,0),o=!c(t)||t!==this._$AH&&t!==w,o&&(this._$AH=t);else{const e=t;let n,r;for(t=h[0],n=0;n<h.length-1;n++)r=N(this,e[s+n],i,n),r===w&&(r=this._$AH[n]),o||=!c(r)||r!==this._$AH[n],r===T?t=T:t!==T&&(t+=(r??\"\")+h[n+1]),this._$AH[n]=r}o&&!e&&this.j(t)}j(t){t===T?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??\"\")}}class k extends R{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===T?void 0:t}}class H extends R{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==T)}}class I extends R{constructor(t,i,s,e,h){super(t,i,s,e,h),this.type=5}_$AI(t,i=this){if((t=N(this,t,i,0)??T)===w)return;const s=this._$AH,e=t===T&&s!==T||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,h=t!==T&&(s===T||e);e&&this.element.removeEventListener(this.name,this,s),h&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){\"function\"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class L{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){N(this,t)}}const z={P:e,A:h,C:o,M:1,L:P,R:S,D:u,V:N,I:M,H:R,N:H,U:I,B:k,F:L},Z=t.litHtmlPolyfillSupport;Z?.(V,M),(t.litHtmlVersions??=[]).push(\"3.1.4\");const j=(t,i,s)=>{const e=s?.renderBefore??i;let h=e._$litPart$;if(void 0===h){const t=s?.renderBefore??null;e._$litPart$=h=new M(i.insertBefore(l(),t),t,void 0,s??{})}return h._$AI(t),h};export{z as _$LH,x as html,w as noChange,T as nothing,j as render,b as svg};\n//# sourceMappingURL=lit-html.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},e=t=>(...e)=>({_$litDirective$:t,values:e});class i{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this._$Ct=t,this._$AM=e,this._$Ci=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}export{i as Directive,t as PartType,e as directive};\n//# sourceMappingURL=directive.js.map\n","import{_$LH as o}from\"./lit-html.js\";\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const{I:t}=o,i=o=>null===o||\"object\"!=typeof o&&\"function\"!=typeof o,n={HTML:1,SVG:2},e=(o,t)=>void 0===t?void 0!==o?._$litType$:o?._$litType$===t,l=o=>null!=o?._$litType$?.h,c=o=>void 0!==o?._$litDirective$,d=o=>o?._$litDirective$,f=o=>void 0===o.strings,s=()=>document.createComment(\"\"),r=(o,i,n)=>{const e=o._$AA.parentNode,l=void 0===i?o._$AB:i._$AA;if(void 0===n){const i=e.insertBefore(s(),l),c=e.insertBefore(s(),l);n=new t(i,c,o,o.options)}else{const t=n._$AB.nextSibling,i=n._$AM,c=i!==o;if(c){let t;n._$AQ?.(o),n._$AM=o,void 0!==n._$AP&&(t=o._$AU)!==i._$AU&&n._$AP(t)}if(t!==l||c){let o=n._$AA;for(;o!==t;){const t=o.nextSibling;e.insertBefore(o,l),o=t}}}return n},v=(o,t,i=o)=>(o._$AI(t,i),o),u={},m=(o,t=u)=>o._$AH=t,p=o=>o._$AH,h=o=>{o._$AP?.(!1,!0);let t=o._$AA;const i=o._$AB.nextSibling;for(;t!==i;){const o=t.nextSibling;t.remove(),t=o}},j=o=>{o._$AR()};export{n as TemplateResultType,j as clearPart,p as getCommittedValue,d as getDirectiveClass,r as insertPart,l as isCompiledTemplateResult,c as isDirectiveResult,i as isPrimitive,f as isSingleExpression,e as isTemplateResult,h as removePart,v as setChildPartValue,m as setCommittedValue};\n//# sourceMappingURL=directive-helpers.js.map\n","import{noChange as r,nothing as e}from\"../lit-html.js\";import{directive as i,Directive as t,PartType as n}from\"../directive.js\";import{isSingleExpression as o,setCommittedValue as s}from\"../directive-helpers.js\";\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const l=i(class extends t{constructor(r){if(super(r),r.type!==n.PROPERTY&&r.type!==n.ATTRIBUTE&&r.type!==n.BOOLEAN_ATTRIBUTE)throw Error(\"The `live` directive is not allowed on child or event bindings\");if(!o(r))throw Error(\"`live` bindings can only contain a single expression\")}render(r){return r}update(i,[t]){if(t===r||t===e)return t;const o=i.element,l=i.name;if(i.type===n.PROPERTY){if(t===o[l])return r}else if(i.type===n.BOOLEAN_ATTRIBUTE){if(!!t===o.hasAttribute(l))return r}else if(i.type===n.ATTRIBUTE&&o.getAttribute(l)===t+\"\")return r;return s(i),t}});export{l as live};\n//# sourceMappingURL=live.js.map\n","/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nfunction*o(o,f){if(void 0!==o){let i=0;for(const t of o)yield f(t,i++)}}export{o as map};\n//# sourceMappingURL=map.js.map\n","import{noChange as t}from\"../lit-html.js\";import{directive as e,Directive as r,PartType as s}from\"../directive.js\";\n/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const n=\"important\",i=\" !\"+n,o=e(class extends r{constructor(t){if(super(t),t.type!==s.ATTRIBUTE||\"style\"!==t.name||t.strings?.length>2)throw Error(\"The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.\")}render(t){return Object.keys(t).reduce(((e,r)=>{const s=t[r];return null==s?e:e+`${r=r.includes(\"-\")?r:r.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,\"-$&\").toLowerCase()}:${s};`}),\"\")}update(e,[r]){const{style:s}=e.element;if(void 0===this.ft)return this.ft=new Set(Object.keys(r)),this.render(r);for(const t of this.ft)null==r[t]&&(this.ft.delete(t),t.includes(\"-\")?s.removeProperty(t):s[t]=null);for(const t in r){const e=r[t];if(null!=e){this.ft.add(t);const r=\"string\"==typeof e&&e.endsWith(i);t.includes(\"-\")||r?s.setProperty(t,r?e.slice(0,-11):e,r?n:\"\"):s[t]=e}}return t}});export{o as styleMap};\n//# sourceMappingURL=style-map.js.map\n","import{isSingleExpression as i}from\"./directive-helpers.js\";import{Directive as t,PartType as e}from\"./directive.js\";export{directive}from\"./directive.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const s=(i,t)=>{const e=i._$AN;if(void 0===e)return!1;for(const i of e)i._$AO?.(t,!1),s(i,t);return!0},o=i=>{let t,e;do{if(void 0===(t=i._$AM))break;e=t._$AN,e.delete(i),i=t}while(0===e?.size)},r=i=>{for(let t;t=i._$AM;i=t){let e=t._$AN;if(void 0===e)t._$AN=e=new Set;else if(e.has(i))break;e.add(i),c(t)}};function h(i){void 0!==this._$AN?(o(this),this._$AM=i,r(this)):this._$AM=i}function n(i,t=!1,e=0){const r=this._$AH,h=this._$AN;if(void 0!==h&&0!==h.size)if(t)if(Array.isArray(r))for(let i=e;i<r.length;i++)s(r[i],!1),o(r[i]);else null!=r&&(s(r,!1),o(r));else s(this,i)}const c=i=>{i.type==e.CHILD&&(i._$AP??=n,i._$AQ??=h)};class f extends t{constructor(){super(...arguments),this._$AN=void 0}_$AT(i,t,e){super._$AT(i,t,e),r(this),this.isConnected=i._$AU}_$AO(i,t=!0){i!==this.isConnected&&(this.isConnected=i,i?this.reconnected?.():this.disconnected?.()),t&&(s(this,i),o(this))}setValue(t){if(i(this._$Ct))this._$Ct._$AI(t,this);else{const i=[...this._$Ct._$AH];i[this._$Ci]=t,this._$Ct._$AI(i,this,0)}}disconnected(){}reconnected(){}}export{f as AsyncDirective,t as Directive,e as PartType};\n//# sourceMappingURL=async-directive.js.map\n","import{nothing as t}from\"../lit-html.js\";import{AsyncDirective as i}from\"../async-directive.js\";import{directive as s}from\"../directive.js\";\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const e=()=>new h;class h{}const o=new WeakMap,n=s(class extends i{render(i){return t}update(i,[s]){const e=s!==this.Y;return e&&void 0!==this.Y&&this.rt(void 0),(e||this.lt!==this.ct)&&(this.Y=s,this.ht=i.options?.host,this.rt(this.ct=i.element)),t}rt(t){if(this.isConnected||(t=void 0),\"function\"==typeof this.Y){const i=this.ht??globalThis;let s=o.get(i);void 0===s&&(s=new WeakMap,o.set(i,s)),void 0!==s.get(this.Y)&&this.Y.call(this.ht,void 0),s.set(this.Y,t),void 0!==t&&this.Y.call(this.ht,t)}else this.Y.value=t}get lt(){return\"function\"==typeof this.Y?o.get(this.ht??globalThis)?.get(this.Y):this.Y?.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});export{e as createRef,n as ref};\n//# sourceMappingURL=ref.js.map\n","import {html, render} from 'lit-html'\r\nimport {live} from 'lit-html/directives/live.js'\r\nimport { map } from 'lit-html/directives/map.js'\r\nimport {styleMap} from 'lit-html/directives/style-map.js'\r\nimport {ref, createRef} from 'lit-html/directives/ref.js'\r\n\r\nconst el = document.createElement('div')\r\nlet modal\r\n\r\nexport const cmdOpenFonts = 'open-fonts'\r\n\r\n/**\r\n * Constants\r\n */\r\nconst LS_FONTS = 'silex-loaded-fonts-list'\r\n\r\n/**\r\n * Module variables\r\n */\r\nlet _fontsList\r\nlet fonts\r\nlet defaults = []\r\n\r\n/**\r\n * Options\r\n */\r\nlet fontServer = 'https://fonts.googleapis.com'\r\nlet fontApi = 'https://www.googleapis.com'\r\n\r\n/**\r\n * Load available fonts only once per session\r\n * Use local storage\r\n */\r\ntry {\r\n    _fontsList = JSON.parse(localStorage.getItem(LS_FONTS))\r\n} catch(e) {\r\n    console.error('Could not get fonts from local storage:', e)\r\n}\r\n\r\n/**\r\n * Promised wait function\r\n */\r\nasync function wait(ms = 0) {\r\n    return new Promise(resolve => setTimeout(() => resolve(), ms))\r\n}\r\n\r\n/**\r\n * When the dialog is opened\r\n */\r\nasync function loadFonts(editor) {\r\n    fonts = structuredClone(editor.getModel().get('fonts') || [])\r\n}\r\n\r\n/**\r\n * When the dialog is closed\r\n */\r\nfunction saveFonts(editor, opts) {\r\n    const model = editor.getModel()\r\n\r\n    // Store the modified fonts\r\n    model.set('fonts', fonts)\r\n\r\n    // Update the HTML head with style sheets to load\r\n    updateHead(editor, fonts)\r\n\r\n    // Update the \"font family\" dropdown\r\n    updateUi(editor, fonts, opts)\r\n\r\n    // Save website if auto save is on\r\n    model.set('changesCount', editor.getDirtyCount() + 1)\r\n}\r\n\r\n/**\r\n * Load the available fonts from google\r\n */\r\nasync function loadFontList(url) {\r\n    _fontsList = _fontsList ?? (await (await fetch(url)).json())?.items\r\n    localStorage.setItem(LS_FONTS, JSON.stringify(_fontsList))\r\n    await wait() // let the dialog open\r\n    return _fontsList\r\n}\r\n\r\nexport const fontsDialogPlugin = (editor, opts) => {\r\n    defaults = editor.StyleManager.getBuiltIn('font-family').options\r\n    if(opts.server_url) fontServer = opts.server_url\r\n    if(opts.api_url) fontApi = opts.api_url\r\n    if(!opts.api_key) throw new Error(editor.I18n.t('grapesjs-fonts.You must provide Google font api key'))\r\n    editor.Commands.add(cmdOpenFonts, {\r\n        /* eslint-disable-next-line */\r\n        run: (_, sender) => {\r\n            modal = editor.Modal.open({\r\n                title: editor.I18n.t('grapesjs-fonts.Fonts'),\r\n                content: '',\r\n                attributes: { class: 'fonts-dialog' },\r\n            })\r\n                .onceClose(() => {\r\n                    editor.stopCommand(cmdOpenFonts) // apparently this is needed to be able to run the command several times\r\n                })\r\n            modal.setContent(el)\r\n            loadFonts(editor)\r\n            displayFonts(editor, opts, [])\r\n            loadFontList(`${ fontApi }/webfonts/v1/webfonts?key=${ opts.api_key }`)\r\n                .then(fontsList => { // the run command will terminate before this is done, better for performance\r\n                    displayFonts(editor, opts, fontsList)\r\n                    const form = el.querySelector('form')\r\n                    form.onsubmit = event => {\r\n                        event.preventDefault()\r\n                        saveFonts(editor, opts)\r\n                        editor.stopCommand(cmdOpenFonts)\r\n                    }\r\n                    form.querySelector('input')?.focus()\r\n                })\r\n            return modal\r\n        },\r\n        stop: () => {\r\n            modal.close()\r\n        },\r\n    })\r\n    // add fonts to the website on save\r\n    editor.on('storage:start:store', (data) => {\r\n        data.fonts = editor.getModel().get('fonts')\r\n    })\r\n    // add fonts to the website on load\r\n    editor.on('storage:end:load', (data) => {\r\n        const fonts = data.fonts || []\r\n        editor.getModel().set('fonts', fonts)\r\n        // FIXME: remove this timeout which is a workaround for issues in Silex storage providers\r\n        setTimeout(() => refresh(editor, opts), 1000)\r\n    })\r\n    // update the head and the ui when the frame is loaded\r\n    editor.on('canvas:frame:load', () => refresh(editor, opts))\r\n    // When the page changes, update the dom\r\n    editor.on('page', () => refresh(editor, opts))\r\n}\r\n\r\nfunction match(hay, s) {\r\n    const regExp = new RegExp(s, 'i')\r\n    return hay.search(regExp) !== -1\r\n}\r\n\r\nconst searchInputRef = createRef()\r\nconst fontRef = createRef()\r\n\r\nfunction loadFontForPreview(font) {\r\n    const doc = document; // or editor.Canvas.getDocument() if inside an iframe\r\n    const head = doc.head;\r\n    const styleId = 'dynamic-fonts';\r\n    let styleTag = head.querySelector(`#${styleId}`);\r\n    if (!styleTag) {\r\n        styleTag = doc.createElement('style');\r\n        styleTag.id = styleId;\r\n        head.appendChild(styleTag);\r\n    }\r\n    styleTag.textContent += `\r\n        @import url('${fontServer}/css2?family=${font.family.replace(/ /g, '+')}&display=swap');\r\n    `;\r\n}\r\n\r\nfunction displayFonts(editor, config, fontsList) {\r\n    const searchInput = searchInputRef.value\r\n    const activeFonts = fontsList.filter(f => match(f.family, searchInput?.value || ''))\r\n    searchInput?.focus()\r\n    function findFont(font) {\r\n        return fontsList.find(f => font.name === f.family)\r\n    }\r\n    render(html`\r\n    <form class=\"silex-form grapesjs-fonts\">\r\n      <div class=\"silex-form__group\">\r\n        <div class=\"silex-bar\">\r\n          <input\r\n            style=${styleMap({\r\n        width: '100%',\r\n    })}\r\n            placeholder=\"${editor.I18n.t('grapesjs-fonts.Search')}\"\r\n            type=\"text\"\r\n            ${ref(searchInputRef)}\r\n            @keydown=${() => {\r\n        //(fontRef.value as HTMLSelectElement).selectedIndex = 0\r\n        setTimeout(() => displayFonts(editor, config, fontsList))\r\n    }}/>\r\n          <div style=\"display: flex\">\r\n            <select\r\n                size=\"10\"\r\n                style=${styleMap({\r\n            width: '150px',\r\n        })}\r\n                ${ref(fontRef)}\r\n                @change=${() => {\r\n                    const selectedFont = activeFonts[fontRef.value.selectedIndex];\r\n                    if (selectedFont) {\r\n                        document.getElementById(\"previewText\").style.fontFamily = `\"${selectedFont.family}\", sans-serif`;\r\n                        loadFontForPreview(selectedFont);\r\n                    }\r\n                }}\r\n            >\r\n                ${ map(activeFonts, f => html`\r\n                <option value=${f['family']}>${f['family']}</option>\r\n                `)}\r\n            </select>\r\n            <h2 id=\"previewText\" style=\"padding: 8px; font-size: 40px;\">The quick brown fox jumps over the lazy dog</h2>\r\n          </div>\r\n          <button class=\"silex-button\"\r\n            ?disabled=${!fontRef.value || activeFonts.length === 0}\r\n            type=\"button\" @click=${() => {\r\n        addFont(\r\n            editor,\r\n            config,\r\n            fonts,\r\n            activeFonts[fontRef.value.selectedIndex]\r\n        )\r\n        displayFonts(editor, config, fontsList)\r\n    }}>\r\n            ${editor.I18n.t('grapesjs-fonts.Add font')}\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <hr/>\r\n      <div\r\n        class=\"silex-form__element\">\r\n        <h2>${editor.I18n.t('grapesjs-fonts.Installed fonts')}</h2>\r\n        <ol class=\"silex-list\">\r\n        ${ map(fonts, f => html`\r\n          <li style=\"margin-left: 16px;margin-bottom: 20px;\">\r\n            <div class=\"silex-list__item__header\">\r\n              <h4>${f.name}</h4>\r\n            </div>\r\n            <div class=\"silex-list__item__body\">\r\n              <fieldset class=\"silex-group--simple full-width\">\r\n                <legend>CSS rules</legend>\r\n                <input\r\n                  class=\"full-width\"\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  .value=${live(f.value)}\r\n                  @change=${e => {\r\n        updateRules(editor, fonts, f, e.target.value)\r\n        displayFonts(editor, config, fontsList)\r\n    }}\r\n                />\r\n              </fieldset>\r\n              <fieldset class=\"silex-group--simple full-width\">\r\n                <legend>Variants</legend>\r\n                ${ map(\r\n        // keep only variants which are letters, no numbers\r\n        // FIXME: we need the weights\r\n        findFont(f)?.variants.filter(v => v.replace(/[a-z]/g, '') === ''),\r\n        v => html`\r\n                  <div>\r\n                    <input\r\n                      id=${ f.name + v }\r\n                      type=\"checkbox\"\r\n                      value=${v}\r\n                      ?checked=${f.variants?.includes(v)}\r\n                      @change=${e => {\r\n        updateVariant(editor, fonts, f, v, e.target.checked)\r\n        displayFonts(editor, config, fontsList)\r\n    }}\r\n                    /><label for=${ f.name + v }>${v}</label>\r\n                  </div>\r\n                `)}\r\n              </fieldset>\r\n            </div>\r\n            <div class=\"silex-list__item__footer\">\r\n              <button class=\"silex-button\" type=\"button\" @click=${() => {\r\n        removeFont(editor, fonts, f)\r\n        displayFonts(editor, config, fontsList)\r\n    }}>${editor.I18n.t('grapesjs-fonts.Remove')}</button>\r\n            </div>\r\n          </li>\r\n        `) }\r\n        </ol>\r\n      </div>\r\n      <footer>\r\n        <input class=\"silex-button\" type=\"button\" @click=${() => editor.stopCommand(cmdOpenFonts)} value=\"${editor.I18n.t('grapesjs-fonts.Cancel')}\">\r\n        <input class=\"silex-button\" type=\"submit\" value=\"${editor.I18n.t('grapesjs-fonts.Save')}\">\r\n      </footer>\r\n    </form>\r\n  `, el)\r\n}\r\n\r\nfunction addFont(editor, config, fonts, font) {\r\n    const name = font.family\r\n    const value = `\"${font.family}\", ${font.category}`\r\n    fonts.push({ name, id: name, value, variants: [] })\r\n}\r\n\r\nfunction removeFont(editor, fonts, font) {\r\n    const idx = fonts.findIndex(f => f === font)\r\n    fonts.splice(idx, 1)\r\n}\r\n\r\nfunction removeAll(doc, attr) {\r\n    const all = doc.head.querySelectorAll(`[${ attr }]`)\r\n    Array.from(all)\r\n        .forEach((el) => el.remove())\r\n}\r\n\r\nconst GOOGLE_FONTS_ATTR = 'data-silex-gstatic'\r\nfunction updateHead(editor, fonts) {\r\n    const doc = editor.Canvas.getDocument()\r\n    if(!doc) {\r\n        // This happens while grapesjs is not ready\r\n        return\r\n    }\r\n    removeAll(doc, GOOGLE_FONTS_ATTR)\r\n    const html = getHtml(fonts, GOOGLE_FONTS_ATTR)\r\n    doc.head.insertAdjacentHTML('beforeend', html)\r\n}\r\n\r\nfunction updateUi(editor, fonts, opts) {\r\n    const styleManager = editor.StyleManager\r\n    const fontProperty = styleManager.getProperty('typography', 'font-family')\r\n    if(!fontProperty) {\r\n        // This happens while grapesjs is not ready\r\n        return\r\n    }\r\n    if (opts.preserveDefaultFonts) {\r\n        fonts = defaults.concat(fonts)\r\n    } else if (fonts.length === 0) {\r\n        fonts = defaults\r\n    }\r\n    fontProperty.setOptions(fonts.sort((a, b) => a.id.localeCompare(b.id)))\r\n}\r\n\r\nexport function refresh(editor, opts) {\r\n    const fonts = editor.getModel().get('fonts') || []\r\n    updateHead(editor, fonts)\r\n    updateUi(editor, fonts, opts)\r\n}\r\n\r\nfunction updateRules(editor, fonts, font, value) {\r\n    font.value = value\r\n}\r\n\r\nfunction updateVariant(editor, fonts, font, variant, checked) {\r\n    const has = font.variants?.includes(variant)\r\n    if(has && !checked) font.variants = font.variants.filter(v => v !== variant)\r\n    else if(!has && checked) font.variants.push(variant)\r\n}\r\n\r\nexport function getHtml(fonts, attr = '') {\r\n    // FIXME: how to use google fonts v2?\r\n    // google fonts V2: https://developers.google.com/fonts/docs/css2\r\n    //fonts.forEach(f => {\r\n    //  const prefix = f.variants.length ? ':' : ''\r\n    //  const variants = prefix + f.variants.map(v => {\r\n    //    const weight = parseInt(v)\r\n    //    const axis = v.replace(/\\d+/g, '')\r\n    //    return `${axis},wght@${weight}`\r\n    //  }).join(',')\r\n    //  insert(doc, GOOGLE_FONTS_ATTR, 'link', { 'href': `${ fontServer }/css2?family=${f.name.replace(/ /g, '+')}${variants}&display=swap`, 'rel': 'stylesheet' })\r\n    //})\r\n\r\n    // Google fonts v1\r\n    // https://developers.google.com/fonts/docs/getting_started#a_quick_example\r\n    const preconnect = `<link href=\"${ fontServer }\" rel=\"preconnect\" ${attr}><link href=\"https://fonts.gstatic.com\" rel=\"preconnect\" crossorigin ${attr}>`\r\n    const links = fonts\r\n        .map(f => {\r\n            const prefix = f.variants.length ? ':' : ''\r\n            const variants = prefix + f.variants.map(v => v.replace(/\\d+/g, '')).filter(v => !!v).join(',')\r\n            return `<link href=\"${ fontServer }/css?family=${f.name.replace(/ /g, '+')}${variants}&display=swap\" rel=\"stylesheet\" ${attr}>`\r\n        })\r\n        .join('')\r\n\r\n    return preconnect + links\r\n}","import { getHtml } from './fonts'\r\n\r\nexport const cmdGetCss = 'get-fonts-css'\r\nexport const cmdGetHtml = 'get-fonts-html'\r\n\r\nexport default function (editor) {\r\n    editor.Commands.add(cmdGetCss, () => {\r\n        throw new Error('Not implemented')\r\n    })\r\n    editor.Commands.add(cmdGetHtml, (editor) => {\r\n        const fonts = editor.getModel().get('fonts') || []\r\n        return getHtml(fonts)\r\n    })\r\n}\r\n","export default {\r\n    'grapesjs-fonts': {\r\n        'Fonts': 'Fonts',\r\n        'You must provide Google font api key': 'You must provide Google font api key, see https://developers.google.com/fonts/docs/developer_api#APIKey',\r\n        'Search': 'Search fonts...',\r\n        'Add font': 'Install font',\r\n        'Remove': 'Remove',\r\n        'Save': 'Save',\r\n        'Cancel': 'Cancel',\r\n        'Installed fonts': 'Installed fonts',\r\n    },\r\n}\r\n\r\n","export default {\r\n    'grapesjs-fonts': {\r\n        'Fonts': 'Polices',\r\n        'You must provide Google font api key': 'Vous devez fournir une cl API Google font, voir https://developers.google.com/fonts/docs/developer_api#APIKey',\r\n        'Family': 'Famille',\r\n        'Search': 'Rechercher une police',\r\n        'Add font': 'Installer la police',\r\n        'Remove': 'Supprimer',\r\n        'Save': 'Enregistrer',\r\n        'Cancel': 'Annuler',\r\n        'Installed fonts': 'Polices installes',\r\n    },\r\n}\r\n\r\n\r\n","import { fontsDialogPlugin } from './fonts.js'\r\nimport commands from './commands.js'\r\nimport en from './locale/en.js'\r\nimport fr from './locale/fr.js'\r\n\r\nexport default (editor, opts = {}) => {\r\n\r\n    const options = { ...{\r\n        // default options\r\n        i18n: {},\r\n        preserveDefaultFonts: true,\r\n    },  ...opts }\r\n\r\n  \r\n    // Load i18n files\r\n    editor.I18n && editor.I18n.addMessages({\r\n        en,\r\n        fr,\r\n        ...options.i18n,\r\n    })\r\n\r\n    commands(editor, options)\r\n    fontsDialogPlugin(editor, options)\r\n}\r\n\r\n// Expose commands to the app\r\nexport * from './fonts.js'\r\nexport * from './commands.js'\r\n"],"names":["root","factory","exports","module","define","amd","globalThis","window","this","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","t","i","trustedTypes","s","createPolicy","createHTML","e","h","Math","random","toFixed","slice","n","r","document","l","createComment","c","a","Array","isArray","u","iterator","d","f","v","_","m","RegExp","p","g","$","y","_$litType$","strings","values","x","w","for","T","A","WeakMap","E","createTreeWalker","C","Error","P","length","lastIndex","exec","test","startsWith","push","V","constructor","parts","el","createElement","currentNode","content","firstChild","replaceWith","childNodes","nextNode","nodeType","hasAttributes","getAttributeNames","endsWith","getAttribute","split","type","index","name","ctor","k","H","I","R","removeAttribute","tagName","textContent","emptyScript","append","data","indexOf","innerHTML","N","_$Co","_$Cl","_$litDirective$","_$AO","_$AT","_$AS","S","_$AV","_$AN","_$AD","_$AM","parentNode","_$AU","creationScope","importNode","M","nextSibling","L","_$AI","_$Cv","_$AH","_$AA","_$AB","options","isConnected","startNode","endNode","_$AR","insertBefore","createTextNode","_$AC","set","_$AP","remove","setConnected","element","fill","String","j","setAttribute","super","arguments","toggleAttribute","capture","once","passive","removeEventListener","addEventListener","handleEvent","host","z","D","U","B","F","Z","litHtmlPolyfillSupport","litHtmlVersions","_$Ct","_$Ci","update","render","hasAttribute","keys","reduce","includes","replace","toLowerCase","style","ft","Set","delete","removeProperty","add","setProperty","size","has","_$AQ","reconnected","disconnected","setValue","Y","rt","lt","ct","ht","modal","cmdOpenFonts","LS_FONTS","_fontsList","fonts","defaults","fontServer","fontApi","JSON","parse","localStorage","getItem","console","error","async","loadFontList","url","fetch","json","items","setItem","stringify","ms","undefined","Promise","resolve","setTimeout","wait","fontsDialogPlugin","editor","opts","StyleManager","getBuiltIn","server_url","api_url","api_key","I18n","Commands","run","sender","Modal","open","title","attributes","class","onceClose","stopCommand","setContent","structuredClone","getModel","loadFonts","displayFonts","then","fontsList","form","querySelector","onsubmit","event","preventDefault","model","updateHead","updateUi","getDirtyCount","saveFonts","focus","stop","close","on","refresh","searchInputRef","createRef","fontRef","config","searchInput","activeFonts","filter","hay","regExp","search","match","family","renderBefore","_$litPart$","html","styleMap","width","ref","selectedFont","selectedIndex","getElementById","fontFamily","font","doc","head","styleId","styleTag","id","appendChild","loadFontForPreview","map","category","variants","addFont","live","target","find","variant","checked","updateVariant","idx","findIndex","splice","removeFont","GOOGLE_FONTS_ATTR","Canvas","getDocument","attr","all","querySelectorAll","from","forEach","removeAll","getHtml","insertAdjacentHTML","fontProperty","getProperty","preserveDefaultFonts","concat","setOptions","sort","b","localeCompare","preconnect","links","join","cmdGetCss","cmdGetHtml","i18n","addMessages","en","fr","commands"],"sourceRoot":""}