/*! @silexlabs/grapesjs-fonts - 1.0.10 */
!function(t,e){'object'==typeof exports&&'object'==typeof module?module.exports=e():'function'==typeof define&&define.amd?define([],e):'object'==typeof exports?exports["@silexlabs/grapesjs-fonts"]=e():t["@silexlabs/grapesjs-fonts"]=e()}('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof window?window:this,(()=>(()=>{var t={609:(t,e,n)=>{var r=n(425)["default"];function o(){"use strict";t.exports=o=function(){return e},t.exports.__esModule=!0,t.exports["default"]=t.exports;var e={},n=Object.prototype,i=n.hasOwnProperty,s=Object.defineProperty||function(t,e,n){t[e]=n.value},l="function"==typeof Symbol?Symbol:{},a=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",u=l.toStringTag||"@@toStringTag";function h(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(t){h=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var o=e&&e.prototype instanceof v?e:v,i=Object.create(o.prototype),l=new E(r||[]);return s(i,"_invoke",{value:w(t,n,l)}),i}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p={};function v(){}function y(){}function g(){}var m={};h(m,a,(function(){return this}));var _=Object.getPrototypeOf,$=_&&_(_(k([])));$&&$!==n&&i.call($,a)&&(m=$);var A=g.prototype=v.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function n(o,s,l,a){var c=d(t[o],t,s);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==r(h)&&i.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,l,a)}),(function(t){n("throw",t,l,a)})):e.resolve(h).then((function(t){u.value=t,l(u)}),(function(t){return n("throw",t,l,a)}))}a(c.arg)}var o;s(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}})}function w(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return C()}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var l=S(s,n);if(l){if(l===p)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var a=d(t,e,n);if("normal"===a.type){if(r=n.done?"completed":"suspendedYield",a.arg===p)continue;return{value:a.arg,done:n.done}}"throw"===a.type&&(r="completed",n.method="throw",n.arg=a.arg)}}}function S(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator["return"]&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function k(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:C}}function C(){return{value:void 0,done:!0}}return y.prototype=g,s(A,"constructor",{value:g,configurable:!0}),s(g,"constructor",{value:y,configurable:!0}),y.displayName=h(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,h(t,u,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},b(x.prototype),h(x.prototype,c,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var s=new x(f(t,n,r,o),i);return e.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},b(A),h(A,u,"Generator"),h(A,a,(function(){return this})),h(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=k,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return s.type="throw",s.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=i.call(o,"catchLoc"),a=i.call(o,"finallyLoc");if(l&&a){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}t.exports=o,t.exports.__esModule=!0,t.exports["default"]=t.exports},425:t=>{function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports["default"]=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports["default"]=t.exports},841:(t,e,n)=>{var r=n(609)();t.exports=r;try{regeneratorRuntime=r}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(t,'__esModule',{value:!0})};var r={};return(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e){var n=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,n||"default");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===t(n)?n:String(n)}function o(t,n,r){return(n=e(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function i(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function s(t,e,n,r,o,i,s){try{var l=t[i](s),a=l.value}catch(t){return void n(t)}l.done?e(a):Promise.resolve(a).then(r,o)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function l(t){s(i,r,o,l,a,"next",t)}function a(t){s(i,r,o,l,a,"throw",t)}l(void 0)}))}}n.r(r),n.d(r,{cmdOpenFonts:()=>Qt,default:()=>Jt,fontsDialogPlugin:()=>Kt});var a,c=n(841);const u=window,h=u.trustedTypes,f=h?h.createPolicy("lit-html",{createHTML:t=>t}):void 0,d="$lit$",p=`lit$${(Math.random()+"").slice(9)}$`,v="?"+p,y=`<${v}>`,g=document,m=()=>g.createComment(""),_=t=>null===t||"object"!=typeof t&&"function"!=typeof t,$=Array.isArray,A=t=>$(t)||"function"==typeof(null==t?void 0:t[Symbol.iterator]),b="[ \t\n\f\r]",x=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,w=/-->/g,S=/>/g,j=RegExp(`>|${b}(?:([^\\s"'>=/]+)(${b}*=${b}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),O=/'/g,E=/"/g,k=/^(?:script|style|textarea|title)$/i,C=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),P=C(1),N=(C(2),Symbol.for("lit-noChange")),I=Symbol.for("lit-nothing"),M=new WeakMap,T=g.createTreeWalker(g,129,null,!1),H=(t,e)=>{const n=t.length-1,r=[];let o,i=2===e?"<svg>":"",s=x;for(let e=0;e<n;e++){const n=t[e];let l,a,c=-1,u=0;for(;u<n.length&&(s.lastIndex=u,a=s.exec(n),null!==a);)u=s.lastIndex,s===x?"!--"===a[1]?s=w:void 0!==a[1]?s=S:void 0!==a[2]?(k.test(a[2])&&(o=RegExp("</"+a[2],"g")),s=j):void 0!==a[3]&&(s=j):s===j?">"===a[0]?(s=null!=o?o:x,c=-1):void 0===a[1]?c=-2:(c=s.lastIndex-a[2].length,l=a[1],s=void 0===a[3]?j:'"'===a[3]?E:O):s===E||s===O?s=j:s===w||s===S?s=x:(s=j,o=void 0);const h=s===j&&t[e+1].startsWith("/>")?" ":"";i+=s===x?n+y:c>=0?(r.push(l),n.slice(0,c)+d+n.slice(c)+p+h):n+p+(-2===c?(r.push(void 0),e):h)}const l=i+(t[n]||"<?>")+(2===e?"</svg>":"");if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==f?f.createHTML(l):l,r]};class L{constructor({strings:t,_$litType$:e},n){let r;this.parts=[];let o=0,i=0;const s=t.length-1,l=this.parts,[a,c]=H(t,e);if(this.el=L.createElement(a,n),T.currentNode=this.el.content,2===e){const t=this.el.content,e=t.firstChild;e.remove(),t.append(...e.childNodes)}for(;null!==(r=T.nextNode())&&l.length<s;){if(1===r.nodeType){if(r.hasAttributes()){const t=[];for(const e of r.getAttributeNames())if(e.endsWith(d)||e.startsWith(p)){const n=c[i++];if(t.push(e),void 0!==n){const t=r.getAttribute(n.toLowerCase()+d).split(p),e=/([.?@])?(.*)/.exec(n);l.push({type:1,index:o,name:e[2],strings:t,ctor:"."===e[1]?U:"?"===e[1]?z:"@"===e[1]?V:F})}else l.push({type:6,index:o})}for(const e of t)r.removeAttribute(e)}if(k.test(r.tagName)){const t=r.textContent.split(p),e=t.length-1;if(e>0){r.textContent=h?h.emptyScript:"";for(let n=0;n<e;n++)r.append(t[n],m()),T.nextNode(),l.push({type:2,index:++o});r.append(t[e],m())}}}else if(8===r.nodeType)if(r.data===v)l.push({type:2,index:o});else{let t=-1;for(;-1!==(t=r.data.indexOf(p,t+1));)l.push({type:7,index:o}),t+=p.length-1}o++}}static createElement(t,e){const n=g.createElement("template");return n.innerHTML=t,n}}function G(t,e,n=t,r){var o,i,s,l;if(e===N)return e;let a=void 0!==r?null===(o=n._$Co)||void 0===o?void 0:o[r]:n._$Cl;const c=_(e)?void 0:e._$litDirective$;return(null==a?void 0:a.constructor)!==c&&(null===(i=null==a?void 0:a._$AO)||void 0===i||i.call(a,!1),void 0===c?a=void 0:(a=new c(t),a._$AT(t,n,r)),void 0!==r?(null!==(s=(l=n)._$Co)&&void 0!==s?s:l._$Co=[])[r]=a:n._$Cl=a),void 0!==a&&(e=G(t,a._$AS(t,e.values),a,r)),e}class R{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){var e;const{el:{content:n},parts:r}=this._$AD,o=(null!==(e=null==t?void 0:t.creationScope)&&void 0!==e?e:g).importNode(n,!0);T.currentNode=o;let i=T.nextNode(),s=0,l=0,a=r[0];for(;void 0!==a;){if(s===a.index){let e;2===a.type?e=new D(i,i.nextSibling,this,t):1===a.type?e=new a.ctor(i,a.name,a.strings,this,t):6===a.type&&(e=new W(i,this,t)),this._$AV.push(e),a=r[++l]}s!==(null==a?void 0:a.index)&&(i=T.nextNode(),s++)}return o}v(t){let e=0;for(const n of this._$AV)void 0!==n&&(void 0!==n.strings?(n._$AI(t,n,e),e+=n.strings.length-2):n._$AI(t[e])),e++}}class D{constructor(t,e,n,r){var o;this.type=2,this._$AH=I,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=r,this._$Cp=null===(o=null==r?void 0:r.isConnected)||void 0===o||o}get _$AU(){var t,e;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$Cp}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===(null==t?void 0:t.nodeType)&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=G(this,t,e),_(t)?t===I||null==t||""===t?(this._$AH!==I&&this._$AR(),this._$AH=I):t!==this._$AH&&t!==N&&this._(t):void 0!==t._$litType$?this.g(t):void 0!==t.nodeType?this.$(t):A(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==I&&_(this._$AH)?this._$AA.nextSibling.data=t:this.$(g.createTextNode(t)),this._$AH=t}g(t){var e;const{values:n,_$litType$:r}=t,o="number"==typeof r?this._$AC(t):(void 0===r.el&&(r.el=L.createElement(r.h,this.options)),r);if((null===(e=this._$AH)||void 0===e?void 0:e._$AD)===o)this._$AH.v(n);else{const t=new R(o,this),e=t.u(this.options);t.v(n),this.$(e),this._$AH=t}}_$AC(t){let e=M.get(t.strings);return void 0===e&&M.set(t.strings,e=new L(t)),e}T(t){$(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let n,r=0;for(const o of t)r===e.length?e.push(n=new D(this.k(m()),this.k(m()),this,this.options)):n=e[r],n._$AI(o),r++;r<e.length&&(this._$AR(n&&n._$AB.nextSibling,r),e.length=r)}_$AR(t=this._$AA.nextSibling,e){var n;for(null===(n=this._$AP)||void 0===n||n.call(this,!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){var e;void 0===this._$AM&&(this._$Cp=t,null===(e=this._$AP)||void 0===e||e.call(this,t))}}class F{constructor(t,e,n,r,o){this.type=1,this._$AH=I,this._$AN=void 0,this.element=t,this.name=e,this._$AM=r,this.options=o,n.length>2||""!==n[0]||""!==n[1]?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=I}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,e=this,n,r){const o=this.strings;let i=!1;if(void 0===o)t=G(this,t,e,0),i=!_(t)||t!==this._$AH&&t!==N,i&&(this._$AH=t);else{const r=t;let s,l;for(t=o[0],s=0;s<o.length-1;s++)l=G(this,r[n+s],e,s),l===N&&(l=this._$AH[s]),i||(i=!_(l)||l!==this._$AH[s]),l===I?t=I:t!==I&&(t+=(null!=l?l:"")+o[s+1]),this._$AH[s]=l}i&&!r&&this.j(t)}j(t){t===I?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}class U extends F{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===I?void 0:t}}const B=h?h.emptyScript:"";class z extends F{constructor(){super(...arguments),this.type=4}j(t){t&&t!==I?this.element.setAttribute(this.name,B):this.element.removeAttribute(this.name)}}class V extends F{constructor(t,e,n,r,o){super(t,e,n,r,o),this.type=5}_$AI(t,e=this){var n;if((t=null!==(n=G(this,t,e,0))&&void 0!==n?n:I)===N)return;const r=this._$AH,o=t===I&&r!==I||t.capture!==r.capture||t.once!==r.once||t.passive!==r.passive,i=t!==I&&(r===I||o);o&&this.element.removeEventListener(this.name,this,r),i&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e,n;"function"==typeof this._$AH?this._$AH.call(null!==(n=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==n?n:this.element,t):this._$AH.handleEvent(t)}}class W{constructor(t,e,n){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(t){G(this,t)}}const Y={O:d,P:p,A:v,C:1,M:H,L:R,D:A,R:G,I:D,V:F,H:z,N:V,U,F:W},q=u.litHtmlPolyfillSupport;null==q||q(L,D),(null!==(a=u.litHtmlVersions)&&void 0!==a?a:u.litHtmlVersions=[]).push("2.7.2");const Z=1,J=2,K=3,Q=4,X=t=>(...e)=>({_$litDirective$:t,values:e});class tt{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,n){this._$Ct=t,this._$AM=e,this._$Ci=n}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}const{I:et}=Y,nt=t=>void 0===t.strings,rt={},ot=X(class extends tt{constructor(t){if(super(t),t.type!==K&&t.type!==Z&&t.type!==Q)throw Error("The `live` directive is not allowed on child or event bindings");if(!nt(t))throw Error("`live` bindings can only contain a single expression")}render(t){return t}update(t,[e]){if(e===N||e===I)return e;const n=t.element,r=t.name;if(t.type===K){if(e===n[r])return N}else if(t.type===Q){if(!!e===n.hasAttribute(r))return N}else if(t.type===Z&&n.getAttribute(r)===e+"")return N;return((t,e=rt)=>{t._$AH=e})(t),e}});function*it(t,e){if(void 0!==t){let n=0;for(const r of t)yield e(r,n++)}}const st="important",lt=" !"+st,at=X(class extends tt{constructor(t){var e;if(super(t),t.type!==Z||"style"!==t.name||(null===(e=t.strings)||void 0===e?void 0:e.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(t){return Object.keys(t).reduce(((e,n)=>{const r=t[n];return null==r?e:e+`${n=n.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${r};`}),"")}update(t,[e]){const{style:n}=t.element;if(void 0===this.ut){this.ut=new Set;for(const t in e)this.ut.add(t);return this.render(e)}this.ut.forEach((t=>{null==e[t]&&(this.ut.delete(t),t.includes("-")?n.removeProperty(t):n[t]="")}));for(const t in e){const r=e[t];if(null!=r){this.ut.add(t);const e="string"==typeof r&&r.endsWith(lt);t.includes("-")||e?n.setProperty(t,e?r.slice(0,-11):r,e?st:""):n[t]=r}}return N}}),ct=(t,e)=>{var n,r;const o=t._$AN;if(void 0===o)return!1;for(const t of o)null===(r=(n=t)._$AO)||void 0===r||r.call(n,e,!1),ct(t,e);return!0},ut=t=>{let e,n;do{if(void 0===(e=t._$AM))break;n=e._$AN,n.delete(t),t=e}while(0===(null==n?void 0:n.size))},ht=t=>{for(let e;e=t._$AM;t=e){let n=e._$AN;if(void 0===n)e._$AN=n=new Set;else if(n.has(t))break;n.add(t),pt(e)}};function ft(t){void 0!==this._$AN?(ut(this),this._$AM=t,ht(this)):this._$AM=t}function dt(t,e=!1,n=0){const r=this._$AH,o=this._$AN;if(void 0!==o&&0!==o.size)if(e)if(Array.isArray(r))for(let t=n;t<r.length;t++)ct(r[t],!1),ut(r[t]);else null!=r&&(ct(r,!1),ut(r));else ct(this,t)}const pt=t=>{var e,n,r,o;t.type==J&&(null!==(e=(r=t)._$AP)&&void 0!==e||(r._$AP=dt),null!==(n=(o=t)._$AQ)&&void 0!==n||(o._$AQ=ft))};class vt extends tt{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,e,n){super._$AT(t,e,n),ht(this),this.isConnected=t._$AU}_$AO(t,e=!0){var n,r;t!==this.isConnected&&(this.isConnected=t,t?null===(n=this.reconnected)||void 0===n||n.call(this):null===(r=this.disconnected)||void 0===r||r.call(this)),e&&(ct(this,t),ut(this))}setValue(t){if(nt(this._$Ct))this._$Ct._$AI(t,this);else{const e=[...this._$Ct._$AH];e[this._$Ci]=t,this._$Ct._$AI(e,this,0)}}disconnected(){}reconnected(){}}const yt=()=>new gt;class gt{}const mt=new WeakMap,_t=X(class extends vt{render(t){return I}update(t,[e]){var n;const r=e!==this.G;return r&&void 0!==this.G&&this.ot(void 0),(r||this.rt!==this.lt)&&(this.G=e,this.ct=null===(n=t.options)||void 0===n?void 0:n.host,this.ot(this.lt=t.element)),I}ot(t){var e;if("function"==typeof this.G){const n=null!==(e=this.ct)&&void 0!==e?e:globalThis;let r=mt.get(n);void 0===r&&(r=new WeakMap,mt.set(n,r)),void 0!==r.get(this.G)&&this.G.call(this.ct,void 0),r.set(this.G,t),void 0!==t&&this.G.call(this.ct,t)}else this.G.value=t}get rt(){var t,e,n;return"function"==typeof this.G?null===(e=mt.get(null!==(t=this.ct)&&void 0!==t?t:globalThis))||void 0===e?void 0:e.get(this.G):null===(n=this.G)||void 0===n?void 0:n.value}disconnected(){this.rt===this.lt&&this.ot(void 0)}reconnected(){this.ot(this.lt)}});var $t,At,bt,xt,wt,St,jt,Ot=document.createElement('div'),Et='open-fonts',kt='silex-loaded-fonts-list',Ct=[];try{St=JSON.parse(localStorage.getItem(kt))}catch(f){console.error('Could not get fonts from local storage:',f)}function Pt(){return Nt.apply(this,arguments)}function Nt(){return Nt=l(c.mark((function t(){var e,n=arguments;return c.wrap((function(t){for(;1;)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:0,t.abrupt("return",new Promise((function(t){return setTimeout((function(){return t()}),e)})));case 2:case"end":return t.stop()}}),t)}))),Nt.apply(this,arguments)}function It(){return(It=l(c.mark((function t(e){return c.wrap((function(t){for(;1;)switch(t.prev=t.next){case 0:jt=structuredClone(e.getModel().get('fonts')||[]);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Mt(){return(Mt=l(c.mark((function t(e){var n,r;return c.wrap((function(t){for(;1;)switch(t.prev=t.next){case 0:if(null===(n=St)||void 0===n){t.next=4;break}t.t0=n,t.next=18;break;case 4:return t.next=6,fetch(e);case 6:return t.next=8,t.sent.json();case 8:if(t.t2=r=t.sent,t.t1=null===t.t2,t.t1){t.next=12;break}t.t1=void 0===r;case 12:if(!t.t1){t.next=16;break}t.t3=void 0,t.next=17;break;case 16:t.t3=r.items;case 17:t.t0=t.t3;case 18:return St=t.t0,localStorage.setItem(kt,JSON.stringify(St)),t.next=22,Pt();case 22:return t.abrupt("return",St);case 23:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Tt=function(t,e){if(Ct=t.StyleManager.getBuiltIn('font-family').options,!e.api_key)throw new Error(t.I18n.t('grapesjs-fonts.You must provide Google font api key'));t.Commands.add(Et,{run:function(n,r){return(wt=t.Modal.open({title:t.I18n.t('grapesjs-fonts.Fonts'),content:'',attributes:{class:'fonts-dialog'}}).onceClose((function(){t.stopCommand(Et)}))).setContent(Ot),function(t){It.apply(this,arguments)}(t),Gt(t,e,[]),function(t){return Mt.apply(this,arguments)}('https://www.googleapis.com/webfonts/v1/webfonts?key='+e.api_key).then((function(n){var r;Gt(t,e,n);var o=Ot.querySelector('form');o.onsubmit=function(n){n.preventDefault(),function(t,e){var n=t.getModel();n.set('fonts',jt),zt(t,jt),Vt(t,jt,e),n.set('changesCount',t.getDirtyCount()+1)}(t,e),t.stopCommand(Et)},null===(r=o.querySelector('input'))||void 0===r||r.focus()})),wt},stop:function(){wt.close()}}),t.on('storage:start:store',(function(e){e.fonts=t.getModel().get('fonts')})),t.on('storage:end:load',(function(n){var r=n.fonts||[];t.getModel().set('fonts',r),setTimeout((function(){zt(t,r),Vt(t,r,e)}))}))};var Ht=yt(),Lt=yt();function Gt(t,e,n){var r=Ht.value,o=n.filter((function(t){return function(t,e){var n=new RegExp(e,'i');return-1!==t.search(n)}(t.family,(null==r?void 0:r.value)||'')}));null==r||r.focus(),((t,e,n)=>{var r,o;const i=null!==(r=null==n?void 0:n.renderBefore)&&void 0!==r?r:e;let s=i._$litPart$;if(void 0===s){const t=null!==(o=null==n?void 0:n.renderBefore)&&void 0!==o?o:null;i._$litPart$=s=new D(e.insertBefore(m(),t),t,void 0,null!=n?n:{})}s._$AI(t)})(P($t||($t=i(["\n    <form class=\"silex-form grapesjs-fonts\">\n      <div class=\"silex-form__group\">\n        <div class=\"silex-bar\">\n          <input\n            style=","\n            placeholder=\"","\"\n            type=\"text\"\n            ","\n            @keydown=","/>\n          <select\n            style=","\n            ","\n          >\n            ","\n          </select>\n          <button class=\"silex-button\"\n            ?disabled=","\n            type=\"button\" @click=",">\n            ","\n          </button>\n        </div>\n      </div>\n      <hr/>\n      <div\n        class=\"silex-form__element\">\n        <h2>","</h2>\n        <ol class=\"silex-list\">\n        ","\n        </ol>\n      </div>\n      <footer>\n        <input class=\"silex-button\" type=\"button\" @click="," value=\"","\">\n        <input class=\"silex-button\" type=\"submit\" value=\"","\">\n      </footer>\n    </form>\n  "])),at({width:'100%'}),t.I18n.t('grapesjs-fonts.Search'),_t(Ht),(function(){setTimeout((function(){return Gt(t,e,n)}))}),at({width:'150px'}),_t(Lt),it(o,(function(t){return P(At||(At=i(["\n              <option value=",">","</option>\n            "])),t['family'],t['family'])})),!Lt.value||0===o.length,(function(){!function(t,e,n,r){var o=r.family,i="\"".concat(r.family,"\", ").concat(r.category);n.push({name:o,value:i,variants:[]})}(0,0,jt,o[Lt.value.selectedIndex]),Gt(t,e,n)}),t.I18n.t('grapesjs-fonts.Add font'),t.I18n.t('grapesjs-fonts.Installed fonts'),it(jt,(function(r){var o,s;return P(bt||(bt=i(["\n          <li>\n            <div class=\"silex-list__item__header\">\n              <h4>","</h4>\n            </div>\n            <div class=\"silex-list__item__body\">\n              <fieldset class=\"silex-group--simple full-width\">\n                <legend>CSS rules</legend>\n                <input\n                  class=\"full-width\"\n                  type=\"text\"\n                  name=\"name\"\n                  .value=","\n                  @change=","\n                />\n              </fieldset>\n              <fieldset class=\"silex-group--simple full-width\">\n                <legend>Variants</legend>\n                ","\n              </fieldset>\n            </div>\n            <div class=\"silex-list__item__footer\">\n              <button class=\"silex-button\" type=\"button\" @click=",">","</button>\n            </div>\n          </li>\n        "])),r.name,ot(r.value),(function(o){var i,s;i=r,s=o.target.value,i.value=s,Gt(t,e,n)}),it(null===(s=r,o=n.find((function(t){return s.name===t.family})))||void 0===o?void 0:o.variants.filter((function(t){return''===t.replace(/[a-z]/g,'')})),(function(o){var s;return P(xt||(xt=i(["\n                  <div>\n                    <input\n                      id=","\n                      type=\"checkbox\"\n                      value=","\n                      ?checked=","\n                      @change=","\n                    /><label for=",">","</label>\n                  </div>\n                "])),r.name+o,o,null===(s=r.variants)||void 0===s?void 0:s.includes(o),(function(i){!function(t,e,n,r,o){var i,s=null===(i=n.variants)||void 0===i?void 0:i.includes(r);s&&!o?n.variants=n.variants.filter((function(t){return t!==r})):!s&&o&&n.variants.push(r)}(0,0,r,o,i.target.checked),Gt(t,e,n)}),r.name+o,o)})),(function(){!function(t,e,n){var r=e.findIndex((function(t){return t===n}));e.splice(r,1)}(0,jt,r),Gt(t,e,n)}),t.I18n.t('grapesjs-fonts.Remove'))})),(function(){return t.stopCommand(Et)}),t.I18n.t('grapesjs-fonts.Cancel'),t.I18n.t('grapesjs-fonts.Save')),Ot)}function Rt(t,e,n,r){t.head.querySelector("[".concat(e,"]"))||Dt(t,e,n,r)}function Dt(t,e,n,r){var o=t.createElement(n);o.setAttribute(e,''),Object.keys(r).forEach((function(t){return o.setAttribute(t,r[t])})),t.head.appendChild(o)}var Ft='data-silex-google-apis',Ut='data-silex-gstatic',Bt='data-silex-gstatic';function zt(t,e){var n=t.Canvas.getDocument();Rt(n,Ft,'link',{href:'https://fonts.googleapis.com',rel:'preconnect'}),Rt(n,Ut,'link',{href:'https://fonts.gstatic.com',rel:'preconnect',crossorigin:''}),function(t,e){Array.from(t.head.querySelector("[".concat(e,"]"))).forEach((function(t){return t.remove()}))}(n,Bt),e.forEach((function(t){var e=(t.variants.length?':':'')+t.variants.map((function(t){return t.replace(/\d+/g,'')})).filter((function(t){return!!t})).join(',');Dt(n,Bt,'link',{href:"https://fonts.googleapis.com/css?family=".concat(t.name.replace(/ /g,'+')).concat(e,"&display=swap"),rel:'stylesheet'})}))}function Vt(t,e,n){var r=t.StyleManager.getProperty('typography','font-family');n.preserveDefaultFonts?e=Ct.concat(e):0===e.length&&(e=Ct),r.setOptions(e)}const Wt={'grapesjs-fonts':{Fonts:'Fonts','You must provide Google font api key':'You must provide Google font api key, see https://developers.google.com/fonts/docs/developer_api#APIKey',Search:'Search fonts...','Add font':'Install font',Remove:'Remove',Save:'Save',Cancel:'Cancel','Installed fonts':'Installed fonts'}},Yt={'grapesjs-fonts':{Fonts:'Polices','You must provide Google font api key':'Vous devez fournir une clé API Google font, voir https://developers.google.com/fonts/docs/developer_api#APIKey',Family:'Famille',Search:'Rechercher une police','Add font':'Installer la police',Remove:'Supprimer',Save:'Enregistrer',Cancel:'Annuler','Installed fonts':'Polices installées'}};function qt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Zt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qt(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const Jt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Zt(Zt({},{i18n:{},preserveDefaultFonts:!0}),e);t.I18n&&t.I18n.addMessages(Zt({en:Wt,fr:Yt},n.i18n)),Tt(t,n)};var Kt=Tt,Qt=Et})(),r})()));
//# sourceMappingURL=index.js.map